<s:Workflow xmlns:s="http://www.chemomentum.org/workflow/simple" 
            xmlns:jsdl="http://schemas.ggf.org/jsdl/2005/11/jsdl" 
            xmlns:jsdl1="http://schemas.ggf.org/jsdl/2005/11/jsdl-posix"
            xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">

<s:Activity Id="start" Type="START"/>
 
<s:SubWorkflow Id="while" xsi:type="s:WhileType">
  
 <s:DeclareVariable Id="decl">
    <s:Name>C</s:Name>
    <s:Type>INTEGER</s:Type>
    <s:InitialValue>1</s:InitialValue>
 </s:DeclareVariable>
 
 <s:SubWorkflow Id="while_body">
  
  <s:Activity Id="job" Type="JSDL">
    <s:JSDL>
      <jsdl:JobDescription>
        <jsdl:Application>
           <jsdl:ApplicationName>Echo</jsdl:ApplicationName>
           <jsdl1:POSIXApplication>
            <jsdl1:Argument>${CURRENT_ITERATOR_VALUE}</jsdl1:Argument>
          </jsdl1:POSIXApplication>
        </jsdl:Application>
      </jsdl:JobDescription>
    </s:JSDL>
   </s:Activity>
  
  <!-- this modifies the variable used in the repeat loop's exit condition -->
  <s:Activity Id="mod" Type="ModifyVariable">
   <s:Option name="variableName">C</s:Option>
   <s:Option name="expression">C++;</s:Option>
  </s:Activity>
  
  <s:Transition From="job" To="mod" Id="job-mod"/>
   
  </s:SubWorkflow>
  
  <!-- exit condition -->
  <s:Condition>
   <s:Expression>eval(C&lt;5)</s:Expression>
  </s:Condition>
    
</s:SubWorkflow>

<s:Transition From="start" To="while" Id="start-while"/>

</s:Workflow>
